<p-dialog header="Detalii pacient" [(visible)]="display" [modal]="true" [responsive]="true" [contentStyle]="{'overflow':'visible'}"
  [style]="{width: '800px', minWidth: '200px'}" [minY]="500" [maximizable]="true" [baseZIndex]="10000">

  <form [formGroup]="pacientform" (ngSubmit)="onSubmit()">
    <p-panel header="{{pageTitle}}">
      <div class="ui-grid ui-grid-responsive ui-grid-pad ui-fluid" style="margin: 10px 0px; height: auto">
        <div class="ui-grid-row">
          <div class="ui-grid-col-2">
            Nume *:
          </div>
          <div class="ui-grid-col-6">
            <input pInputText type="text" formControlName="nume" placeholder="Obligatoriu" />
          </div>
          <div class="ui-grid-col-4">
            <p-message severity="error" text="Numele este obligatoriu"
              *ngIf="!pacientform.controls['nume'].valid&&pacientform.controls['nume'].dirty">
            </p-message>
          </div>
        </div>

        <div class="ui-grid-row">
          <div class="ui-grid-col-2">
            CNP *:
          </div>
          <div class="ui-grid-col-6">
            <input pInputText type="text" formControlName="cnp" placeholder="Obligatoriu - 13 cifre" />
          </div>
          <div class="ui-grid-col-4">
            <p-message severity="error"
              [text]="pacientform.controls['cnp'].errors['required'] ? 'CNP este obligatoriu' : pacientform.controls['cnp'].errors['minlength'] ? 'Trebuie să aibă exact 13 cifre': pacientform.controls['cnp'].errors['maxlength'] ? 'Trebuie să aibă exact 13 cifre' : ''"
              *ngIf="!pacientform.controls['cnp'].valid&&pacientform.controls['cnp'].dirty">
            </p-message>
          </div>
        </div>

        <div class="ui-grid-row">
          <div class="ui-grid-col-2">
            Data nașterii *:
          </div>
          <div class="ui-grid-col-6">
            <p-calendar formControlName="dataNasterii" placeholder="Obligatoriu" dateFormat="yy-mm-dd"
              [monthNavigator]="true" [yearNavigator]="true" yearRange="1900:2030"></p-calendar>
          </div>
          <div class="ui-grid-col-4">
            <p-message severity="error" text="Data nașterii este obligatorie"
              *ngIf="!pacientform.controls['dataNasterii'].valid&&pacientform.controls['dataNasterii'].dirty">
            </p-message>
          </div>
        </div>

        <div class="ui-grid-row">
          <div class="ui-grid-col-2">
            Adresa *:
          </div>
          <div class="ui-grid-col-6">
            <input pInputText type="text" formControlName="adresa" placeholder="Obligatoriu" />
          </div>
          <div class="ui-grid-col-4">
            <p-message severity="error" text="Adresa este obligatorie"
              *ngIf="!pacientform.controls['adresa'].valid&&pacientform.controls['adresa'].dirty">
            </p-message>
          </div>
        </div>

        <div class="ui-grid-row">
          <div class="ui-grid-col-2">
            Telefon *:
          </div>
          <div class="ui-grid-col-6">
            <input pInputText type="text" formControlName="telefon" placeholder="Obligatoriu - minim 10 cifre" />
          </div>
          <div class="ui-grid-col-4">
            <p-message severity="error"
              [text]="pacientform.controls['telefon'].errors['required'] ? 'Numărul de telefon este obligatoriu' : pacientform.controls['telefon'].errors['minlength'] ? 'Minim 10 cifre': pacientform.controls['telefon'].errors['maxlength'] ? 'Maxim 15 cifre' : ''"
              *ngIf="!pacientform.controls['telefon'].valid&&pacientform.controls['telefon'].dirty">
            </p-message>
          </div>
        </div>

        <div class="ui-grid-row">
          <div class="ui-grid-col-2">
            Email :
          </div>
          <div class="ui-grid-col-6">
            <input pInputText type="text" formControlName="email" />
          </div>
        </div>

        <div class="ui-grid-row">
          <div class="ui-grid-col-2"></div>
          <div class="ui-grid-col-3">
            <button pButton type="submit" label="Salvează" [disabled]="!pacientform.valid"></button>
          </div>
          <div class="ui-grid-col-3">
            <button type="button" pButton icon="pi pi-close" (click)="display=false" label="Anulează"
              class="ui-button-secondary" routerLink="/receptioner/pacients"></button>
          </div>
          <div class="ui-grid-col-4"></div>
        </div>
<!--
        <div style="text-align:center;margin-top:20px" *ngIf="submitted">
          Form Submitted
          <br>
          {{diagnostic}}
        </div>
-->
      </div>
    </p-panel>
  </form>


</p-dialog>